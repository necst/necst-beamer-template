\mode<presentation>

\usepackage[italian]{babel}
\usepackage[utf8x]{inputenc}
\usepackage[T1]{fontenc}

%Algorithm package
\usepackage{algorithm}
\usepackage{algorithmicx} 
\usepackage{algpseudocode}

\usepackage{color, colortbl}

%\definecolor{necstgreen}{rgb}{0.137,0.466,0.741}
%\definecolor{necstgreen}{RGB}{240,40,40}

%\definecolor{necstgreen}{RGB}{187,216,113}
\definecolor{necstgreen}{RGB}{171,216,80}
\definecolor{necstgreen2}{RGB}{0,158, 96}
\definecolor{necstgray}{RGB}{30,30,30}

\usetheme{Madrid}
\useoutertheme[subsection=false]{miniframes}
%\useinnertheme{rectangles}
\usecolortheme[named=necstgreen]{structure}
\setbeamercolor*{palette primary}{use=structure,fg=necstgray,bg=necstgreen}
%\setbeamertemplate{items}[ball,bg=necstgreen] 
%\setbeamertemplate{blocks}[rectangles][shadow=false] 
%\setbeamercolor{block title}{use=structure,fg=necstgray}
\setbeamertemplate{items}[circle]
\setbeamercolor*{item}{use=structure,fg=necstgreen}

\defbeamertemplate*{title page}{customized}[1][]
{
  \vbox{}
  \vfill
  \begin{centering}
    \begin{beamercolorbox}[sep=8pt,center,rounded=true,shadow=true]{title}
      \usebeamerfont{title}\inserttitle\par%
      \ifx\insertsubtitle\@empty%
      \else%
        \vskip0.25em%
        {\usebeamerfont{subtitle}\usebeamercolor[fg]{subtitle}\insertsubtitle\par}%
      \fi%     
    \end{beamercolorbox}%
    \vskip1em
    \vfill
    \par
    \begin{beamercolorbox}[sep=8pt,center,#1]{author}
      \usebeamerfont{author}\textbf{Tesi di Laurea Magistrale di} \\ \insertauthor
    \end{beamercolorbox}
    \begin{beamercolorbox}[sep=8pt,center,#1]{institute}
      \usebeamerfont{institute}\insertinstitute
    \end{beamercolorbox}
    \begin{beamercolorbox}[sep=8pt,center,#1]{date}
      \usebeamerfont{date}\insertdate
    \end{beamercolorbox}\vskip0.5em
    {\usebeamercolor[fg]{titlegraphic}\inserttitlegraphic\par}
  \end{centering}
}

\RequirePackage{ifthen} % package required

\newboolean{sectionimg}
\setboolean{sectionimg}{false} % default to false

\AtBeginSection[]{
\begin{frame}
	\begin{center}
		\begin{beamercolorbox}[sep=8pt,center,rounded=true,shadow=true]{part title}
        \usebeamerfont{part title}\insertsection
     \end{beamercolorbox}
     \end{center}
     \ifthenelse{\boolean{sectionimg}}{
     	\begin{center}
     		\includegraphics[scale=0.15]{./img/jackdaw.png}
     	\end{center}
     }
     	
\end{frame}
}
\newcommand{\imagesection}[2]{
  \setboolean{sectionimg}{true}
  \section[#1]{#2}
  \setboolean{sectionimg}{false}
}


\setbeamercolor{section in head/foot}{fg=white, bg=necstgray}
\setbeamercolor{author in head/foot}{fg=necstgray, bg=necstgreen}
\setbeamercolor{logo in head/foot}{fg=white, bg=necstgray}
\setbeamercolor{page number in head/foot}{fg=necstgray, bg=necstgreen}

%Color itemize/description ...
\setbeamercolor{description item}{fg=necstgreen2}

\setbeamertemplate{footline}
{
  \leavevmode%
  \hbox{%
  \begin{beamercolorbox}[wd=.10\paperwidth,ht=2.25ex,dp=1ex,center]{logo in head/foot}%
    \usebeamerfont{logo in head/foot}NECSTLab
  \end{beamercolorbox}%
  \begin{beamercolorbox}[wd=.20\paperwidth,ht=2.25ex,dp=1ex,center]{author in head/foot}%
    \usebeamerfont{author in head/foot}\insertshortauthor
  \end{beamercolorbox}%
  \begin{beamercolorbox}[wd=.65\paperwidth,ht=2.25ex,dp=1ex,center]{title in head/foot}%
    \usebeamerfont{title in head/foot}\insertshorttitle
  \end{beamercolorbox}}%
  \begin{beamercolorbox}[wd=.05\paperwidth,ht=2.25ex,dp=1ex,center]{page number in head/foot}%
    \usebeamerfont{page number in head/foot}\insertframenumber
  \end{beamercolorbox}%
  \vskip0pt%
}

\setbeamertemplate{navigation symbols}{}